{"ast":null,"code":"import _objectSpread from\"C:/Users/LEGION/Downloads/Projects/Expense Tracker/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditTransactionModal(_ref){let{transaction,onClose,onSave}=_ref;const[formData,setFormData]=useState({id:transaction.id,description:transaction.description,amount:Math.abs(transaction.amount),category:transaction.category});const[errors,setErrors]=useState({});const handleChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:name===\"amount\"?parseFloat(value)||\"\":value}));// Clear error for this field\nif(errors[name]){setErrors(_objectSpread(_objectSpread({},errors),{},{[name]:\"\"}));}};const validateForm=()=>{const newErrors={};if(!formData.description.trim()){newErrors.description=\"Description is required\";}if(!formData.amount||formData.amount<=0){newErrors.amount=\"Amount must be greater than 0\";}if(!formData.category){newErrors.category=\"Category is required\";}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=e=>{e.preventDefault();if(!validateForm()){return;}// If original was expense (negative), make the amount negative\nconst finalAmount=transaction.amount<0?-formData.amount:formData.amount;onSave(_objectSpread(_objectSpread({},formData),{},{amount:finalAmount}));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Edit Transaction\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:formData.description,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 \".concat(errors.description?\"border-red-500 focus:ring-red-500\":\"border-gray-300 focus:ring-blue-500\"),placeholder:\"e.g., Grocery shopping\"}),errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:[\"Amount ($\",transaction.amount<0?\"Expense\":\"Income\",\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:formData.amount,onChange:handleChange,step:\"0.01\",className:\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 \".concat(errors.amount?\"border-red-500 focus:ring-red-500\":\"border-gray-300 focus:ring-blue-500\"),placeholder:\"0.00\"}),errors.amount&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.amount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:formData.category,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 \".concat(errors.category?\"border-red-500 focus:ring-red-500\":\"border-gray-300 focus:ring-blue-500\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Income\",children:\"Income\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Utilities\",children:\"Utilities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Transport\",children:\"Transport\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Food\",children:\"Food\"})]}),errors.category&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mt-1\",children:errors.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition\",children:\"Save Changes\"})]})]})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","EditTransactionModal","_ref","transaction","onClose","onSave","formData","setFormData","id","description","amount","Math","abs","category","errors","setErrors","handleChange","e","name","value","target","_objectSpread","parseFloat","validateForm","newErrors","trim","Object","keys","length","handleSubmit","preventDefault","finalAmount","className","children","onSubmit","type","onChange","concat","placeholder","step","onClick"],"sources":["C:/Users/LEGION/Downloads/Projects/Expense Tracker/frontend/src/components/EditTransactionModal.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport default function EditTransactionModal({ transaction, onClose, onSave }) {\r\n  const [formData, setFormData] = useState({\r\n    id: transaction.id,\r\n    description: transaction.description,\r\n    amount: Math.abs(transaction.amount),\r\n    category: transaction.category,\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: name === \"amount\" ? parseFloat(value) || \"\" : value,\r\n    });\r\n    // Clear error for this field\r\n    if (errors[name]) {\r\n      setErrors({ ...errors, [name]: \"\" });\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.description.trim()) {\r\n      newErrors.description = \"Description is required\";\r\n    }\r\n    if (!formData.amount || formData.amount <= 0) {\r\n      newErrors.amount = \"Amount must be greater than 0\";\r\n    }\r\n    if (!formData.category) {\r\n      newErrors.category = \"Category is required\";\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    // If original was expense (negative), make the amount negative\r\n    const finalAmount =\r\n      transaction.amount < 0 ? -formData.amount : formData.amount;\r\n\r\n    onSave({\r\n      ...formData,\r\n      amount: finalAmount,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6 w-96\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Edit Transaction</h2>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          {/* Description */}\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Description\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n                errors.description\r\n                  ? \"border-red-500 focus:ring-red-500\"\r\n                  : \"border-gray-300 focus:ring-blue-500\"\r\n              }`}\r\n              placeholder=\"e.g., Grocery shopping\"\r\n            />\r\n            {errors.description && (\r\n              <p className=\"text-red-500 text-sm mt-1\">{errors.description}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Amount */}\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Amount (${transaction.amount < 0 ? \"Expense\" : \"Income\"})\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"amount\"\r\n              value={formData.amount}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n                errors.amount\r\n                  ? \"border-red-500 focus:ring-red-500\"\r\n                  : \"border-gray-300 focus:ring-blue-500\"\r\n              }`}\r\n              placeholder=\"0.00\"\r\n            />\r\n            {errors.amount && (\r\n              <p className=\"text-red-500 text-sm mt-1\">{errors.amount}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Category */}\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Category\r\n            </label>\r\n            <select\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n                errors.category\r\n                  ? \"border-red-500 focus:ring-red-500\"\r\n                  : \"border-gray-300 focus:ring-blue-500\"\r\n              }`}\r\n            >\r\n              <option value=\"\">Select a category</option>\r\n              <option value=\"Income\">Income</option>\r\n              <option value=\"Utilities\">Utilities</option>\r\n              <option value=\"Entertainment\">Entertainment</option>\r\n              <option value=\"Transport\">Transport</option>\r\n              <option value=\"Food\">Food</option>\r\n            </select>\r\n            {errors.category && (\r\n              <p className=\"text-red-500 text-sm mt-1\">{errors.category}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex gap-3 justify-end\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition\"\r\n            >\r\n              Save Changes\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}