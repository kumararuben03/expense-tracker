{"ast":null,"code":"import _objectSpread from\"C:/Users/LEGION/Downloads/Projects/Expense Tracker/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Swal from\"sweetalert2\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BudgetManagement(){const ITEMS_PER_PAGE=10;const[budgets,setBudgets]=useState([]);const[filteredBudgets,setFilteredBudgets]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[loading,setLoading]=useState(false);const[showForm,setShowForm]=useState(false);const[accounts,setAccounts]=useState([]);const[formData,setFormData]=useState({category:\"\",limitAmount:0,month:new Date().getMonth()+1,year:new Date().getFullYear(),accountId:\"\"});const[accountFilter,setAccountFilter]=useState(\"\");const[editingId,setEditingId]=useState(null);// Fetch all accounts for filter dropdown\nconst fetchAccounts=()=>{axios.get(\"/api/accounts\").then(response=>{setAccounts(response.data);}).catch(error=>console.error(\"Error fetching accounts:\",error));};// Fetch budgets for current month\nconst fetchBudgets=()=>{setLoading(true);const month=formData.month;const year=formData.year;axios.get(\"/api/budgets/month/\".concat(month,\"/year/\").concat(year)).then(response=>{setBudgets(response.data);applyAccountFilter(response.data);}).catch(error=>{console.error(\"Error fetching budgets:\",error);Swal.fire({icon:\"error\",title:\"Error\",text:\"Failed to load budgets\"});}).finally(()=>setLoading(false));};// Apply account filter to budgets\nconst applyAccountFilter=function(budgetsList){let accountId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:accountFilter;if(accountId){const filtered=budgetsList.filter(b=>b.account&&b.account.id===parseInt(accountId));setFilteredBudgets(filtered);}else{setFilteredBudgets(budgetsList);}setCurrentPage(1);};// Handle account filter change\nconst handleAccountFilterChange=e=>{const value=e.target.value;setAccountFilter(value);applyAccountFilter(budgets,value);};useEffect(()=>{fetchAccounts();fetchBudgets();},[formData.month,formData.year]);const handleChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:name===\"limitAmount\"?parseFloat(value)||0:name===\"month\"||name===\"year\"?parseInt(value):value}));};const validateForm=()=>{if(!formData.category.trim()){Swal.fire(\"Error\",\"Category is required\",\"error\");return false;}if(formData.limitAmount<=0){Swal.fire(\"Error\",\"Budget limit must be greater than 0\",\"error\");return false;}return true;};const handleSubmit=e=>{e.preventDefault();if(!validateForm())return;if(!formData.accountId){Swal.fire(\"Error\",\"Please select an account\",\"error\");return;}const submitData={category:formData.category,limitAmount:formData.limitAmount,month:formData.month,year:formData.year,account:{id:parseInt(formData.accountId)}};const request=editingId?axios.put(\"/api/budgets/\".concat(editingId),submitData):axios.post(\"/api/budgets\",submitData);request.then(()=>{Swal.fire({icon:\"success\",title:editingId?\"Updated!\":\"Created!\",text:editingId?\"Budget updated successfully\":\"Budget created successfully\"});setFormData({category:\"\",limitAmount:0,month:new Date().getMonth()+1,year:new Date().getFullYear(),accountId:\"\"});setEditingId(null);setShowForm(false);fetchBudgets();}).catch(error=>{console.error(\"Error saving budget:\",error);Swal.fire(\"Error\",\"Failed to save budget\",\"error\");});};const handleEdit=budget=>{var _budget$account;setFormData({category:budget.category,limitAmount:budget.limitAmount,month:budget.month,year:budget.year,accountId:((_budget$account=budget.account)===null||_budget$account===void 0?void 0:_budget$account.id)||\"\"});setEditingId(budget.id);setShowForm(true);};const handleDelete=id=>{Swal.fire({title:\"Delete Budget?\",text:\"This will remove the budget constraint.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#d33\",cancelButtonColor:\"#3085d6\",confirmButtonText:\"Yes, delete it!\"}).then(result=>{if(result.isConfirmed){axios.delete(\"/api/budgets/\".concat(id)).then(()=>{Swal.fire(\"Deleted!\",\"Budget deleted successfully\",\"success\");fetchBudgets();}).catch(error=>{console.error(\"Error deleting budget:\",error);Swal.fire(\"Error\",\"Failed to delete budget\",\"error\");});}});};const handleCancel=()=>{setShowForm(false);setFormData({category:\"\",limitAmount:0,month:new Date().getMonth()+1,year:new Date().getFullYear()});setEditingId(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded shadow\",children:\"Loading budgets...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Budgets\"}),!showForm&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\",children:\"+ New Budget\"})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mb-6 p-4 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Account\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"accountId\",value:formData.accountId,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an account\"}),accounts.map(acc=>/*#__PURE__*/_jsx(\"option\",{value:acc.id,children:acc.name},acc.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:formData.category,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Utilities\",children:\"Utilities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Transport\",children:\"Transport\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Food\",children:\"Food\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Limit Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"limitAmount\",value:formData.limitAmount,onChange:handleChange,step:\"0.01\",className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Month\"}),/*#__PURE__*/_jsx(\"select\",{name:\"month\",value:formData.month,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",children:Array.from({length:12},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i+1,children:new Date(2024,i).toLocaleString(\"default\",{month:\"long\"})},i+1))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"year\",value:formData.year,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",min:\"2020\",max:\"2099\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",children:[editingId?\"Update\":\"Create\",\" Budget\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCancel,className:\"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\",children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Showing budgets for\",\" \",/*#__PURE__*/_jsxs(\"strong\",{children:[new Date(2024,formData.month-1).toLocaleString(\"default\",{month:\"long\"}),\" \",formData.year]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Month:\"}),/*#__PURE__*/_jsx(\"select\",{name:\"month\",value:formData.month,onChange:handleChange,className:\"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",children:Array.from({length:12},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i+1,children:new Date(2024,i).toLocaleString(\"default\",{month:\"long\"})},i+1))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Year:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"year\",value:formData.year,onChange:handleChange,className:\"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",min:\"2020\",max:\"2099\",style:{width:\"100px\"}})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Filter by Account:\"}),/*#__PURE__*/_jsxs(\"select\",{value:accountFilter,onChange:handleAccountFilterChange,className:\"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Accounts\"}),accounts.map(acc=>/*#__PURE__*/_jsxs(\"option\",{value:acc.id,children:[acc.name,\" (\",acc.currency,\")\"]},acc.id))]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredBudgets.length,\" budget(s)\"]})]})}),filteredBudgets.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center py-6\",children:\"No budgets found\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:[\"Showing \",(currentPage-1)*ITEMS_PER_PAGE+1,\" - \",Math.min(currentPage*ITEMS_PER_PAGE,filteredBudgets.length),\" of \",filteredBudgets.length,\" budgets\"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100 border-b\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left\",children:\"Account\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-right\",children:\"Limit\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left\",children:\"Period\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredBudgets.slice((currentPage-1)*ITEMS_PER_PAGE,currentPage*ITEMS_PER_PAGE).map(budget=>{var _budget$account2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 font-semibold\",children:budget.category}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm\",children:((_budget$account2=budget.account)===null||_budget$account2===void 0?void 0:_budget$account2.name)||\"Unknown\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 px-3 py-1 rounded text-xs\",children:[\"$\",budget.limitAmount.toFixed(2)]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-sm text-gray-600\",children:[new Date(2024,budget.month-1).toLocaleString(\"default\",{month:\"short\"}),\" \",budget.year]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(budget),className:\"text-blue-500 hover:text-blue-700 mr-4\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-pencil-alt\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(budget.id),className:\"text-red-500 hover:text-red-700\",title:\"Delete\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},budget.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Page \",currentPage,\" of \",Math.ceil(filteredBudgets.length/ITEMS_PER_PAGE)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,className:\"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Previous\"}),Array.from({length:Math.ceil(filteredBudgets.length/ITEMS_PER_PAGE)}).map((_,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(i+1),className:\"px-3 py-1 rounded \".concat(currentPage===i+1?\"bg-blue-500 text-white\":\"bg-gray-300 text-gray-700 hover:bg-gray-400\"),children:i+1},i+1)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(Math.ceil(filteredBudgets.length/ITEMS_PER_PAGE),prev+1)),disabled:currentPage===Math.ceil(filteredBudgets.length/ITEMS_PER_PAGE),className:\"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Next\"})]})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","Swal","jsx","_jsx","jsxs","_jsxs","BudgetManagement","ITEMS_PER_PAGE","budgets","setBudgets","filteredBudgets","setFilteredBudgets","currentPage","setCurrentPage","loading","setLoading","showForm","setShowForm","accounts","setAccounts","formData","setFormData","category","limitAmount","month","Date","getMonth","year","getFullYear","accountId","accountFilter","setAccountFilter","editingId","setEditingId","fetchAccounts","get","then","response","data","catch","error","console","fetchBudgets","concat","applyAccountFilter","fire","icon","title","text","finally","budgetsList","arguments","length","undefined","filtered","filter","b","account","id","parseInt","handleAccountFilterChange","e","value","target","handleChange","name","_objectSpread","parseFloat","validateForm","trim","handleSubmit","preventDefault","submitData","request","put","post","handleEdit","budget","_budget$account","handleDelete","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","handleCancel","className","children","onClick","onSubmit","onChange","required","map","acc","type","step","placeholder","Array","from","_","i","toLocaleString","min","max","style","width","currency","Math","slice","_budget$account2","toFixed","ceil","prev","disabled"],"sources":["C:/Users/LEGION/Downloads/Projects/Expense Tracker/frontend/src/components/BudgetManagement.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default function BudgetManagement() {\r\n  const ITEMS_PER_PAGE = 10;\r\n  const [budgets, setBudgets] = useState([]);\r\n  const [filteredBudgets, setFilteredBudgets] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    category: \"\",\r\n    limitAmount: 0,\r\n    month: new Date().getMonth() + 1,\r\n    year: new Date().getFullYear(),\r\n    accountId: \"\",\r\n  });\r\n  const [accountFilter, setAccountFilter] = useState(\"\");\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // Fetch all accounts for filter dropdown\r\n  const fetchAccounts = () => {\r\n    axios\r\n      .get(\"/api/accounts\")\r\n      .then((response) => {\r\n        setAccounts(response.data);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching accounts:\", error));\r\n  };\r\n\r\n  // Fetch budgets for current month\r\n  const fetchBudgets = () => {\r\n    setLoading(true);\r\n    const month = formData.month;\r\n    const year = formData.year;\r\n    axios\r\n      .get(`/api/budgets/month/${month}/year/${year}`)\r\n      .then((response) => {\r\n        setBudgets(response.data);\r\n        applyAccountFilter(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching budgets:\", error);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: \"Failed to load budgets\",\r\n        });\r\n      })\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  // Apply account filter to budgets\r\n  const applyAccountFilter = (budgetsList, accountId = accountFilter) => {\r\n    if (accountId) {\r\n      const filtered = budgetsList.filter(\r\n        (b) => b.account && b.account.id === parseInt(accountId)\r\n      );\r\n      setFilteredBudgets(filtered);\r\n    } else {\r\n      setFilteredBudgets(budgetsList);\r\n    }\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Handle account filter change\r\n  const handleAccountFilterChange = (e) => {\r\n    const value = e.target.value;\r\n    setAccountFilter(value);\r\n    applyAccountFilter(budgets, value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAccounts();\r\n    fetchBudgets();\r\n  }, [formData.month, formData.year]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]:\r\n        name === \"limitAmount\"\r\n          ? parseFloat(value) || 0\r\n          : name === \"month\" || name === \"year\"\r\n          ? parseInt(value)\r\n          : value,\r\n    });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData.category.trim()) {\r\n      Swal.fire(\"Error\", \"Category is required\", \"error\");\r\n      return false;\r\n    }\r\n    if (formData.limitAmount <= 0) {\r\n      Swal.fire(\"Error\", \"Budget limit must be greater than 0\", \"error\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) return;\r\n    if (!formData.accountId) {\r\n      Swal.fire(\"Error\", \"Please select an account\", \"error\");\r\n      return;\r\n    }\r\n\r\n    const submitData = {\r\n      category: formData.category,\r\n      limitAmount: formData.limitAmount,\r\n      month: formData.month,\r\n      year: formData.year,\r\n      account: { id: parseInt(formData.accountId) },\r\n    };\r\n\r\n    const request = editingId\r\n      ? axios.put(`/api/budgets/${editingId}`, submitData)\r\n      : axios.post(\"/api/budgets\", submitData);\r\n\r\n    request\r\n      .then(() => {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: editingId ? \"Updated!\" : \"Created!\",\r\n          text: editingId\r\n            ? \"Budget updated successfully\"\r\n            : \"Budget created successfully\",\r\n        });\r\n        setFormData({\r\n          category: \"\",\r\n          limitAmount: 0,\r\n          month: new Date().getMonth() + 1,\r\n          year: new Date().getFullYear(),\r\n          accountId: \"\",\r\n        });\r\n        setEditingId(null);\r\n        setShowForm(false);\r\n        fetchBudgets();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error saving budget:\", error);\r\n        Swal.fire(\"Error\", \"Failed to save budget\", \"error\");\r\n      });\r\n  };\r\n\r\n  const handleEdit = (budget) => {\r\n    setFormData({\r\n      category: budget.category,\r\n      limitAmount: budget.limitAmount,\r\n      month: budget.month,\r\n      year: budget.year,\r\n      accountId: budget.account?.id || \"\",\r\n    });\r\n    setEditingId(budget.id);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    Swal.fire({\r\n      title: \"Delete Budget?\",\r\n      text: \"This will remove the budget constraint.\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      cancelButtonColor: \"#3085d6\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(`/api/budgets/${id}`)\r\n          .then(() => {\r\n            Swal.fire(\"Deleted!\", \"Budget deleted successfully\", \"success\");\r\n            fetchBudgets();\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error deleting budget:\", error);\r\n            Swal.fire(\"Error\", \"Failed to delete budget\", \"error\");\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowForm(false);\r\n    setFormData({\r\n      category: \"\",\r\n      limitAmount: 0,\r\n      month: new Date().getMonth() + 1,\r\n      year: new Date().getFullYear(),\r\n    });\r\n    setEditingId(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white p-4 rounded shadow\">Loading budgets...</div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded shadow\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-lg font-semibold\">Budgets</h2>\r\n        {!showForm && (\r\n          <button\r\n            onClick={() => setShowForm(true)}\r\n            className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\"\r\n          >\r\n            + New Budget\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {showForm && (\r\n        <form onSubmit={handleSubmit} className=\"mb-6 p-4 bg-gray-50 rounded\">\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Account\r\n            </label>\r\n            <select\r\n              name=\"accountId\"\r\n              value={formData.accountId}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n            >\r\n              <option value=\"\">Select an account</option>\r\n              {accounts.map((acc) => (\r\n                <option key={acc.id} value={acc.id}>\r\n                  {acc.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Category\r\n            </label>\r\n            <select\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"\">Select a category</option>\r\n              <option value=\"Utilities\">Utilities</option>\r\n              <option value=\"Entertainment\">Entertainment</option>\r\n              <option value=\"Transport\">Transport</option>\r\n              <option value=\"Food\">Food</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-3 gap-4 mb-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Limit Amount\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"limitAmount\"\r\n                value={formData.limitAmount}\r\n                onChange={handleChange}\r\n                step=\"0.01\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"0.00\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Month\r\n              </label>\r\n              <select\r\n                name=\"month\"\r\n                value={formData.month}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                {Array.from({ length: 12 }, (_, i) => (\r\n                  <option key={i + 1} value={i + 1}>\r\n                    {new Date(2024, i).toLocaleString(\"default\", {\r\n                      month: \"long\",\r\n                    })}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Year\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"year\"\r\n                value={formData.year}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                min=\"2020\"\r\n                max=\"2099\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n            >\r\n              {editingId ? \"Update\" : \"Create\"} Budget\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCancel}\r\n              className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      <div className=\"mb-4\">\r\n        <p className=\"text-sm text-gray-600\">\r\n          Showing budgets for{\" \"}\r\n          <strong>\r\n            {new Date(2024, formData.month - 1).toLocaleString(\"default\", {\r\n              month: \"long\",\r\n            })}{\" \"}\r\n            {formData.year}\r\n          </strong>\r\n        </p>\r\n      </div>\r\n\r\n      {/* Month and Year Filter */}\r\n      <div className=\"mb-6 p-4 bg-gray-50 rounded border border-gray-200\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Month:\r\n            </label>\r\n            <select\r\n              name=\"month\"\r\n              value={formData.month}\r\n              onChange={handleChange}\r\n              className=\"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {Array.from({ length: 12 }, (_, i) => (\r\n                <option key={i + 1} value={i + 1}>\r\n                  {new Date(2024, i).toLocaleString(\"default\", {\r\n                    month: \"long\",\r\n                  })}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Year:\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"year\"\r\n              value={formData.year}\r\n              onChange={handleChange}\r\n              className=\"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              min=\"2020\"\r\n              max=\"2099\"\r\n              style={{ width: \"100px\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Account Filter */}\r\n      <div className=\"mb-6 p-4 bg-gray-50 rounded border border-gray-200\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">\r\n            Filter by Account:\r\n          </label>\r\n          <select\r\n            value={accountFilter}\r\n            onChange={handleAccountFilterChange}\r\n            className=\"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"\">All Accounts</option>\r\n            {accounts.map((acc) => (\r\n              <option key={acc.id} value={acc.id}>\r\n                {acc.name} ({acc.currency})\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <span className=\"text-sm text-gray-600\">\r\n            Showing {filteredBudgets.length} budget(s)\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {filteredBudgets.length === 0 ? (\r\n        <p className=\"text-gray-400 text-center py-6\">No budgets found</p>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <p className=\"text-sm text-gray-600 mb-3\">\r\n            Showing {((currentPage - 1) * ITEMS_PER_PAGE) + 1} - {Math.min(currentPage * ITEMS_PER_PAGE, filteredBudgets.length)} of {filteredBudgets.length} budgets\r\n          </p>\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-gray-100 border-b\">\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left\">Category</th>\r\n                <th className=\"px-4 py-2 text-left\">Account</th>\r\n                <th className=\"px-4 py-2 text-right\">Limit</th>\r\n                <th className=\"px-4 py-2 text-left\">Period</th>\r\n                <th className=\"px-4 py-2 text-center\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredBudgets\r\n                .slice((currentPage - 1) * ITEMS_PER_PAGE, currentPage * ITEMS_PER_PAGE)\r\n                .map((budget) => (\r\n                <tr key={budget.id} className=\"border-b hover:bg-gray-50\">\r\n                  <td className=\"px-4 py-3 font-semibold\">{budget.category}</td>\r\n                  <td className=\"px-4 py-3 text-sm\">\r\n                    {budget.account?.name || \"Unknown\"}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-right\">\r\n                    <span className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded text-xs\">\r\n                      ${budget.limitAmount.toFixed(2)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-sm text-gray-600\">\r\n                    {new Date(2024, budget.month - 1).toLocaleString(\r\n                      \"default\",\r\n                      {\r\n                        month: \"short\",\r\n                      }\r\n                    )}{\" \"}\r\n                    {budget.year}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-center\">\r\n                    <button\r\n                      onClick={() => handleEdit(budget)}\r\n                      className=\"text-blue-500 hover:text-blue-700 mr-4\"\r\n                      title=\"Edit\"\r\n                    >\r\n                      <i className=\"fas fa-pencil-alt\"></i>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(budget.id)}\r\n                      className=\"text-red-500 hover:text-red-700\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          \r\n          {/* Pagination Controls */}\r\n          <div className=\"flex justify-between items-center mt-4\">\r\n            <div className=\"text-sm text-gray-600\">\r\n              Page {currentPage} of {Math.ceil(filteredBudgets.length / ITEMS_PER_PAGE)}\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                disabled={currentPage === 1}\r\n                className=\"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Previous\r\n              </button>\r\n              {Array.from({ length: Math.ceil(filteredBudgets.length / ITEMS_PER_PAGE) }).map((_, i) => (\r\n                <button\r\n                  key={i + 1}\r\n                  onClick={() => setCurrentPage(i + 1)}\r\n                  className={`px-3 py-1 rounded ${\r\n                    currentPage === i + 1\r\n                      ? \"bg-blue-500 text-white\"\r\n                      : \"bg-gray-300 text-gray-700 hover:bg-gray-400\"\r\n                  }`}\r\n                >\r\n                  {i + 1}\r\n                </button>\r\n              ))}\r\n              <button\r\n                onClick={() => setCurrentPage(prev => Math.min(Math.ceil(filteredBudgets.length / ITEMS_PER_PAGE), prev + 1))}\r\n                disabled={currentPage === Math.ceil(filteredBudgets.length / ITEMS_PER_PAGE)}\r\n                className=\"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}